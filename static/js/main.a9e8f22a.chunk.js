(this.webpackJsonpjothello=this.webpackJsonpjothello||[]).push([[0],{14:function(e,t,r){},8:function(e,t,r){e.exports=r(9)},9:function(e,t,r){"use strict";r.r(t);var a,n=r(4),o=r(5),c=r(1),u=r(0),i=r.n(u),l=r(7),s=r.n(l);r(14);function f(e){return e===a.HUMAN?"\ud83d\udc4d":e===a.BOT?"\ud83e\udd16":""}function v(e){return"".concat(e[0],",").concat(e[1])}function d(e){var t=e.split(",").map(Number);if(2===t.length)return t;throw new Error("Cannot convert given string to Coordinate!")}function m(e,t){for(var r=0;r<e.length;++r)for(var a=0;a<e[r].length;++a)t(e[r][a],a,r)}function h(e,t,r,n,o,c){for(var u=[];;){if(r+=o,(t+=n)<0||t>=e[0].length||r<0||r>=e.length)return[];if(e[r][t].marker===a.FREE)return[];if(e[r][t].marker===c)return u;u.push([t,r])}}function b(e,t){var r=new Map;return m(e,(function(n,o,c){var u=function(e,t,r,n){if(e[r][t].marker!==a.FREE)return[];for(var o=[],c=-1;c<=1;++c)for(var u=-1;u<=1;++u)o=o.concat(h(e,t,r,c,u,n));return o}(e,o,c,t);u.length>0&&r.set(v([o,c]),u)})),r}function O(e,t,r){var a=Object(o.a)(e);return r?(a[0]+=1+t,a[1]-=t):(a[0]-=t,a[1]+=1+t),a}function E(e,t,r,a){e[r[1]][r[0]].marker=t;var o,u=Object(n.a)(a);try{for(u.s();!(o=u.n()).done;){var i=Object(c.a)(o.value,2),l=i[0];e[i[1]][l].marker=t}}catch(s){u.e(s)}finally{u.f()}}function p(e){var t=b(e,a.BOT);if(0===t.size)return 0;var r,o="",u=Object(n.a)(t);try{for(u.s();!(r=u.n()).done;){o=Object(c.a)(r.value,1)[0];break}}catch(m){u.e(m)}finally{u.f()}var i=d(o),l=Object(c.a)(i,2),s=l[0],f=l[1],v=t.get(o)||[];return E(e,a.BOT,[s,f],v),v.length}function M(e){var t=e.value,r=e.onClick,a=e.handleMouseEnter,n=e.handleMouseLeave,o="square";return t.isValidMove&&(o+=" valid-human-move"),t.wouldBeFlipped&&(o+=" would-be-flipped-human"),i.a.createElement("td",{className:o,onClick:r,onMouseEnter:a,onMouseLeave:n},f(t.marker))}function j(e){var t=e.boardWidth,r=e.boardHeight,o=e.isGameOver,l=e.gameIsOver,s=e.updateScore,f=Object(u.useState)(function(e,t,r){for(var n=[],o=0;o<t;++o){for(var u=[],i=0;i<e;++i)u.push({marker:a.FREE,isValidMove:!1,wouldBeFlipped:!1});n.push(u)}var l=Math.floor(e/2),s=Math.floor(t/2);return n[s][l].marker=a.BOT,n[s][l-1].marker=a.HUMAN,n[s-1][l].marker=a.HUMAN,n[s-1][l-1].marker=a.BOT,b(n,r).forEach((function(e,t){var r=d(t),a=Object(c.a)(r,2),o=a[0],u=a[1];n[u][o].isValidMove=!0})),n}(t,r,a.HUMAN)),h=Object(c.a)(f,2),j=h[0],g=h[1],k=Object(u.useState)(b(j,a.HUMAN)),N=Object(c.a)(k,2),B=N[0],y=N[1],H=function(e,t,r){var a=v([e,t]);if(B.has(a)){var o,u=j.slice(),i=Object(n.a)(B.get(a)||[]);try{for(i.s();!(o=i.n()).done;){var l=Object(c.a)(o.value,2),s=l[0];u[l[1]][s].wouldBeFlipped=r}}catch(f){i.e(f)}finally{i.f()}g(u)}};return i.a.createElement("div",null,i.a.createElement("table",null,i.a.createElement("tbody",null,j.map((function(e,t){return i.a.createElement("tr",{key:t,className:"board-row"},e.map((function(e,r){return i.a.createElement(M,{key:v([r,t]),value:e,onClick:function(){return function(e,t){var r;if(!o){var n=v([e,t]);if(B.has(n)){var c=j.slice();E(c,a.HUMAN,[e,t],B.get(n)||[]);var u=O([0,0],(null===(r=B.get(n))||void 0===r?void 0:r.length)||0,!0),i=B,f=!1;do{var d=p(c);f=0===d,d>0&&(u=O(u,d,!1)),0===(i=b(c,a.HUMAN)).size&&f&&l()}while(0===i.size&&!f);m(c,(function(e,t,r){e.isValidMove=i.has(v([t,r])),e.wouldBeFlipped=!1})),g(c),y(i),s(u)}}}(r,t)},handleMouseEnter:function(){return H(r,t,!0)},handleMouseLeave:function(){return H(r,t,!1)}})})))})))))}function g(){var e=Object(u.useState)(!0),t=Object(c.a)(e,2),r=t[0],n=t[1],l=r?a.HUMAN:a.BOT,s=Object(u.useState)(!1),v=Object(c.a)(s,2),d=v[0],m=v[1],h=Object(u.useState)([2,2]),b=Object(c.a)(h,2),O=b[0],E=b[1];return i.a.createElement("div",{className:"game"},i.a.createElement("div",{className:"status"},d?"Game over.\n":"Next player: ".concat(f(l),"\n")),i.a.createElement("div",{className:"score"},"The score is ".concat(O[0]," for ").concat(f(a.HUMAN)," and ").concat(O[1]," for ").concat(f(a.BOT),".")),i.a.createElement("div",{className:"game-board"},i.a.createElement(j,{boardWidth:8,boardHeight:8,nextPlayer:l,isGameOver:d,gameIsOver:function(){return m(!0)},otherPlayersTurn:function(){return n(!r)},updateScore:function(e){var t=Object(o.a)(O);t[0]+=e[0],t[1]+=e[1],E(t)}})))}!function(e){e[e.HUMAN=0]="HUMAN",e[e.BOT=1]="BOT",e[e.FREE=2]="FREE"}(a||(a={})),s.a.render(i.a.createElement(g,null),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.a9e8f22a.chunk.js.map