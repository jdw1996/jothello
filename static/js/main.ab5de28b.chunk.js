(this.webpackJsonpjothello=this.webpackJsonpjothello||[]).push([[0],{14:function(e,t,a){},8:function(e,t,a){e.exports=a(9)},9:function(e,t,a){"use strict";a.r(t);var r,n=a(4),o=a(5),c=a(1),u=a(0),l=a.n(u),i=a(7),s=a.n(i);a(14);function f(e){return e===r.HUMAN?"\ud83d\udc4d":e===r.BOT?"\ud83e\udd16":""}function v(e){return"".concat(e[0],",").concat(e[1])}function d(e){var t=e.split(",").map(Number);if(2===t.length)return t;throw new Error("Cannot convert given string to Coordinate!")}function m(e,t){for(var a=0;a<e.length;++a)for(var r=0;r<e[a].length;++r)t(e[a][r],r,a)}function h(e,t,a,n,o,c){for(var u=[];;){if(a+=o,(t+=n)<0||t>=e[0].length||a<0||a>=e.length)return[];if(e[a][t].marker===r.FREE)return[];if(e[a][t].marker===c)return u;u.push([t,a])}}function p(e,t){var a=new Map;return m(e,(function(n,o,c){var u=function(e,t,a,n){if(e[a][t].marker!==r.FREE)return[];for(var o=[],c=-1;c<=1;++c)for(var u=-1;u<=1;++u)o=o.concat(h(e,t,a,c,u,n));return o}(e,o,c,t);u.length>0&&a.set(v([o,c]),u)})),a}function b(e,t,a){var r=Object(o.a)(e);return a?(r[0]+=1+t,r[1]-=t):(r[0]-=t,r[1]+=1+t),r}function O(e,t,a,r){e[a[1]][a[0]].marker=t;var o,u=Object(n.a)(r);try{for(u.s();!(o=u.n()).done;){var l=Object(c.a)(o.value,2),i=l[0];e[l[1]][i].marker=t}}catch(s){u.e(s)}finally{u.f()}}function j(e){var t=p(e,r.BOT);if(0===t.size)return 0;var a,o="",u=Object(n.a)(t);try{for(u.s();!(a=u.n()).done;){o=Object(c.a)(a.value,1)[0];break}}catch(E){u.e(E)}finally{u.f()}var l=d(o),i=Object(c.a)(l,2),s=i[0],f=i[1],v=t.get(o)||[];O(e,r.BOT,[s,f],v),e[f][s].justPlaced=!0;var m,h=Object(n.a)(v);try{for(h.s();!(m=h.n()).done;){var b=Object(c.a)(m.value,2),j=b[0];e[b[1]][j].justFlipped=!0}}catch(E){h.e(E)}finally{h.f()}return v.length}function E(e){var t=e.value,a=e.onClick,r=e.handleMouseEnter,n=e.handleMouseLeave,o="square";return t.isValidMove&&(o+=" valid-move"),t.wouldBeFlipped&&(o+=" would-be-flipped"),t.justPlaced&&(o+=" just-placed"),t.justFlipped&&(o+=" just-flipped"),l.a.createElement("td",{className:o,onClick:a,onMouseEnter:r,onMouseLeave:n},f(t.marker))}function M(e){var t=e.boardWidth,a=e.boardHeight,o=e.isGameOver,i=e.gameIsOver,s=e.updateScore,f=Object(u.useState)(function(e,t,a){for(var n=[],o=0;o<t;++o){for(var u=[],l=0;l<e;++l)u.push({marker:r.FREE,isValidMove:!1,wouldBeFlipped:!1,justPlaced:!1,justFlipped:!1});n.push(u)}var i=Math.floor(e/2),s=Math.floor(t/2);return n[s][i].marker=r.BOT,n[s][i-1].marker=r.HUMAN,n[s-1][i].marker=r.HUMAN,n[s-1][i-1].marker=r.BOT,p(n,a).forEach((function(e,t){var a=d(t),r=Object(c.a)(a,2),o=r[0],u=r[1];n[u][o].isValidMove=!0})),n}(t,a,r.HUMAN)),h=Object(c.a)(f,2),M=h[0],g=h[1],k=Object(u.useState)(p(M,r.HUMAN)),N=Object(c.a)(k,2),y=N[0],B=N[1],F=function(e,t,a){var r=v([e,t]);if(y.has(r)){var o,u=M.slice(),l=Object(n.a)(y.get(r)||[]);try{for(l.s();!(o=l.n()).done;){var i=Object(c.a)(o.value,2),s=i[0];u[i[1]][s].wouldBeFlipped=a}}catch(f){l.e(f)}finally{l.f()}g(u)}};return l.a.createElement("div",null,l.a.createElement("table",null,l.a.createElement("tbody",null,M.map((function(e,t){return l.a.createElement("tr",{key:t,className:"board-row"},e.map((function(e,a){return l.a.createElement(E,{key:v([a,t]),value:e,onClick:function(){return function(e,t){var a;if(!o){var n=v([e,t]);if(y.has(n)){var c=M.slice();O(c,r.HUMAN,[e,t],y.get(n)||[]);var u=b([0,0],(null===(a=y.get(n))||void 0===a?void 0:a.length)||0,!0);m(c,(function(e){e.justPlaced=!1,e.justFlipped=!1}));var l=y,f=!1;do{var d=j(c);f=0===d,d>0&&(u=b(u,d,!1)),0===(l=p(c,r.HUMAN)).size&&f&&i()}while(0===l.size&&!f);m(c,(function(e,t,a){e.isValidMove=l.has(v([t,a])),e.wouldBeFlipped=!1})),g(c),B(l),s(u)}}}(a,t)},handleMouseEnter:function(){return F(a,t,!0)},handleMouseLeave:function(){return F(a,t,!1)}})})))})))))}function g(){var e=Object(u.useState)(!0),t=Object(c.a)(e,2),a=t[0],n=t[1],i=a?r.HUMAN:r.BOT,s=Object(u.useState)(!1),v=Object(c.a)(s,2),d=v[0],m=v[1],h=Object(u.useState)([2,2]),p=Object(c.a)(h,2),b=p[0],O=p[1];return l.a.createElement("div",{className:"game"},l.a.createElement("div",{className:"status"},d?"Game over.\n":"Next player: ".concat(f(i),"\n")),l.a.createElement("div",{className:"score"},"The score is ".concat(b[0]," for ").concat(f(r.HUMAN)," and ").concat(b[1]," for ").concat(f(r.BOT),".")),l.a.createElement("div",{className:"game-board"},l.a.createElement(M,{boardWidth:8,boardHeight:8,nextPlayer:i,isGameOver:d,gameIsOver:function(){return m(!0)},otherPlayersTurn:function(){return n(!a)},updateScore:function(e){var t=Object(o.a)(b);t[0]+=e[0],t[1]+=e[1],O(t)}})))}!function(e){e[e.HUMAN=0]="HUMAN",e[e.BOT=1]="BOT",e[e.FREE=2]="FREE"}(r||(r={})),s.a.render(l.a.createElement(g,null),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.ab5de28b.chunk.js.map