(this.webpackJsonpjothello=this.webpackJsonpjothello||[]).push([[0],{11:function(e,t,r){e.exports=r(12)},12:function(e,t,r){"use strict";r.r(t);var n,a=r(5),o=r(7),i=r(8),c=r(10),u=r(1),l=r(2),s=r(0),v=r.n(s),f=r(9),d=r.n(f);r(17);function h(e){return e===n.HUMAN?"\ud83d\udc4d":e===n.BOT?"\ud83e\udd16":""}function p(e){return e?n.HUMAN:n.BOT}function m(e){return"".concat(e[0],",").concat(e[1])}function b(e){var t=e.split(",").map(Number);if(2===t.length)return t;throw new Error("Cannot convert given string to Coordinate!")}function O(e){var t,r=[],n=Object(l.a)(e);try{for(n.s();!(t=n.n()).done;){var a,o=t.value,i=[],u=Object(l.a)(o);try{for(u.s();!(a=u.n()).done;){var s=a.value;i.push(Object(c.a)({},s))}}catch(v){u.e(v)}finally{u.f()}r.push(i)}}catch(v){n.e(v)}finally{n.f()}return r}!function(e){e[e.HUMAN=0]="HUMAN",e[e.BOT=1]="BOT",e[e.FREE=2]="FREE"}(n||(n={}));var j=function(){function e(t,r,n,a){Object(o.a)(this,e),this.categorizer=void 0,this.comparator=void 0,this.boardWidth=void 0,this.boardHeight=void 0,this.moves=void 0,this.categorizer=t,this.comparator=r,this.boardWidth=n,this.boardHeight=a,this.moves=new Map}return Object(i.a)(e,[{key:"tryAddMove",value:function(e,t){return!!(this.categorizer(b(e),this.boardWidth,this.boardHeight)&&t.length>0)&&(this.moves.set(e,t),!0)}},{key:"getBestMove",value:function(){var e=function(e,t){var r,n=void 0,a=void 0,o=Object(l.a)(e);try{for(o.s();!(r=o.n()).done;){var i=Object(u.a)(r.value,2),c=i[0],s=i[1];(!n||!a||t(n,a,c,s)>0)&&(n=c,a=s)}}catch(v){o.e(v)}finally{o.f()}return n}(this.moves,this.comparator)||"";return[e,this.moves.get(e)||[]]}},{key:"hasMoves",value:function(){return this.moves.size>0}}]),e}();function g(e,t,r){var n=Object(u.a)(e,2),a=n[0],o=n[1];return(0===a||a===t-1)&&(0===o||o===r-1)}function M(e,t,r){var n=Object(u.a)(e,2),a=n[0],o=n[1];return!g([a,o],r,t)&&(a<=1||a>=t-2)&&(o<=1||o>=r-2)}function y(e,t,r){var n=Object(u.a)(e,2),a=n[0],o=n[1];return!g([a,o],r,t)&&!M([a,o],r,t)&&(0===a||a===t-1||0===o||o===r-1)}function E(e,t,r){var n=Object(u.a)(e,2),a=n[0],o=n[1];return!M([a,o],r,t)&&(1===a||a===t-2||1===o||o===r-2)}function k(){return!g.apply(void 0,arguments)&&!M.apply(void 0,arguments)&&!y.apply(void 0,arguments)&&!E.apply(void 0,arguments)}function B(e,t){for(var r=0;r<e.length;++r)for(var n=0;n<e[r].length;++n)t(e[r][n],n,r)}function N(e,t,r,a,o,i){for(var c=[];;){if(r+=o,(t+=a)<0||t>=e[0].length||r<0||r>=e.length)return[];if(e[r][t].marker===n.FREE)return[];if(e[r][t].marker===i)return c;c.push([t,r])}}function w(e,t){var r=new Map;return B(e,(function(a,o,i){var c=function(e,t,r,a){if(e[r][t].marker!==n.FREE)return[];for(var o=[],i=-1;i<=1;++i)for(var c=-1;c<=1;++c)o=o.concat(N(e,t,r,i,c,a));return o}(e,o,i,t);c.length>0&&r.set(m([o,i]),c)})),r}function F(e,t,r){var n=Object(a.a)(e);return r?(n[0]+=1+t,n[1]-=t):(n[0]-=t,n[1]+=1+t),n}function H(e,t,r,n){e[r[1]][r[0]].marker=t;var a,o=Object(l.a)(n);try{for(o.s();!(a=o.n()).done;){var i=Object(u.a)(a.value,2),c=i[0];e[i[1]][c].marker=t}}catch(s){o.e(s)}finally{o.f()}}function A(e){var t=w(e,n.BOT);if(0===t.size)return 0;var r,a=e.length,o=e[0].length,i=function(e,t,r,n){return n.length-t.length},c=function(e,t,r,n){return t.length-n.length},s=[new j(g,i,o,a),new j(y,i,o,a),new j(k,c,o,a),new j(E,c,o,a),new j(M,c,o,a)],v="",f=[],d=Object(l.a)(t);try{for(d.s();!(r=d.n()).done;)for(var h=Object(u.a)(r.value,1)[0],p=0;p<s.length&&!s[p].tryAddMove(h,t.get(h)||[]);++p);}catch(P){d.e(P)}finally{d.f()}for(var m=0;m<s.length;++m)if(s[m].hasMoves()){var O=s[m].getBestMove();if(v=O[0],f=O[1],v)break}var B=b(v),N=Object(u.a)(B,2),F=N[0],A=N[1];H(e,n.BOT,[F,A],f),e[A][F].justPlaced=!0;var T,U=Object(l.a)(f);try{for(U.s();!(T=U.n()).done;){var W=Object(u.a)(T.value,2),L=W[0];e[W[1]][L].justFlipped=!0}}catch(P){U.e(P)}finally{U.f()}return f.length}function T(e){var t=e.value,r=e.onClick,a=e.handleMouseEnter,o=e.handleMouseLeave,i="square";return t.isValidMove&&(i+=" valid-move"),t.wouldBeFlipped&&(i+=" would-be-flipped"),t.noLongerWouldBeFlipped&&(i+=" no-longer-would-be-flipped"),t.justPlaced&&(i+=" just-placed"),t.justFlipped&&(i+=" just-flipped"),v.a.createElement("td",{className:i,onClick:r,onMouseEnter:a,onMouseLeave:o},v.a.createElement("div",{className:"square-container"},v.a.createElement("div",{className:"square-front"},h(t.marker)),v.a.createElement("div",{className:"square-back"},h(p(t.marker!==n.HUMAN)))))}function U(e){var t=e.boardWidth,r=e.boardHeight,a=e.nextPlayer,o=e.isGameOver,i=e.gameIsOver,c=e.otherPlayersTurn,f=e.updateScore,d=Object(s.useState)(function(e,t,r){for(var a=[],o=0;o<t;++o){for(var i=[],c=0;c<e;++c)i.push({marker:n.FREE,isValidMove:!1,wouldBeFlipped:!1,noLongerWouldBeFlipped:!1,justPlaced:!1,justFlipped:!1});a.push(i)}var l=Math.floor(e/2),s=Math.floor(t/2);return a[s][l].marker=n.BOT,a[s][l-1].marker=n.HUMAN,a[s-1][l].marker=n.HUMAN,a[s-1][l-1].marker=n.BOT,w(a,r).forEach((function(e,t){var r=b(t),n=Object(u.a)(r,2),o=n[0],i=n[1];a[i][o].isValidMove=!0})),a}(t,r,n.HUMAN)),h=Object(u.a)(d,2),p=h[0],j=h[1],g=Object(s.useState)(w(p,n.HUMAN)),M=Object(u.a)(g,2),y=M[0],E=M[1];Object(s.useEffect)((function(){if(a===n.BOT&&!o){var e=O(p),t=new Map,r=!1,u=!1,l=[0,0];do{var s=A(e);r=0===s,s>0&&(l=F(l,s,!1)),0===(t=w(e,n.HUMAN)).size&&r&&(u=!0)}while(0===t.size&&!r);B(e,(function(e,r,n){e.isValidMove=t.has(m([r,n]))})),setTimeout((function(){u&&i(),c(),j(e),E(t),f(l)}),0===l[0]&&0===l[1]?0:500)}}),[a]);var k=function(e,t,r){var n=m([e,t]);if(y.has(n)){var a=r?function(e){e.wouldBeFlipped=!0,e.noLongerWouldBeFlipped=!1}:function(e){e.wouldBeFlipped=!1,e.noLongerWouldBeFlipped=!0};j((function(e){var t,r=O(e),o=Object(l.a)(y.get(n)||[]);try{for(o.s();!(t=o.n()).done;){var i=Object(u.a)(t.value,2),c=i[0],s=i[1];a(r[s][c])}}catch(v){o.e(v)}finally{o.f()}return r}))}};return v.a.createElement("div",null,v.a.createElement("table",null,v.a.createElement("tbody",null,p.map((function(e,t){return v.a.createElement("tr",{key:t,className:"board-row"},e.map((function(e,r){return v.a.createElement(T,{key:m([r,t]),value:e,onClick:function(){return function(e,t){var r;if(!o){var a=m([e,t]);if(y.has(a)){var i=O(p);H(i,n.HUMAN,[e,t],y.get(a)||[]);var u=F([0,0],(null===(r=y.get(a))||void 0===r?void 0:r.length)||0,!0);B(i,(function(e){e.isValidMove=!1,e.wouldBeFlipped=!1,e.justPlaced=!1,e.justFlipped=!1,e.noLongerWouldBeFlipped=!1})),c(),j(i),E(new Map),f(u)}}}(r,t)},handleMouseEnter:function(){return k(r,t,!0)},handleMouseLeave:function(){return k(r,t,!1)}})})))})))))}function W(){var e=Object(s.useState)(!0),t=Object(u.a)(e,2),r=t[0],o=t[1],i=p(r),c=Object(s.useState)(!1),l=Object(u.a)(c,2),f=l[0],d=l[1],m=Object(s.useState)([2,2]),b=Object(u.a)(m,2),O=b[0],j=b[1];return v.a.createElement("div",{className:"game"},v.a.createElement("div",{className:"status"},f?"Game over.\n":"Next player: ".concat(h(i),"\n")),v.a.createElement("div",{className:"score"},"The score is ".concat(O[0]," for ").concat(h(n.HUMAN)," and ").concat(O[1]," for ").concat(h(n.BOT),".")),v.a.createElement("div",{className:"game-board"},v.a.createElement(U,{boardWidth:8,boardHeight:8,nextPlayer:i,isGameOver:f,gameIsOver:function(){return d(!0)},otherPlayersTurn:function(){return o(!r)},updateScore:function(e){var t=Object(a.a)(O);t[0]+=e[0],t[1]+=e[1],j(t)}})))}d.a.render(v.a.createElement(W,null),document.getElementById("root"))},17:function(e,t,r){}},[[11,1,2]]]);
//# sourceMappingURL=main.9417a257.chunk.js.map