(this.webpackJsonpjothello=this.webpackJsonpjothello||[]).push([[0],{14:function(e,t,n){},8:function(e,t,n){e.exports=n(9)},9:function(e,t,n){"use strict";n.r(t);var a,r=n(5),o=n(1),l=n(3),c=n(0),u=n.n(c),i=n(7),s=n.n(i);n(14);function f(e,t){var n,a=void 0,r=void 0,c=Object(l.a)(e);try{for(c.s();!(n=c.n()).done;){var u=Object(o.a)(n.value,2),i=u[0],s=u[1];(!a||!r||t(a,r,i,s)>0)&&(a=i,r=s)}}catch(f){c.e(f)}finally{c.f()}return a}function d(e){return e===a.HUMAN?"\ud83d\udc4d":e===a.BOT?"\ud83e\udd16":""}function v(e){return e?a.HUMAN:a.BOT}function p(e){return"".concat(e[0],",").concat(e[1])}function h(e){var t=e.split(",").map(Number);if(2===t.length)return t;throw new Error("Cannot convert given string to Coordinate!")}function m(e,t,n){var a=Object(o.a)(e,2),r=a[0],l=a[1];return(0===r||r===t-1)&&(0===l||l===n-1)}function b(e,t,n){var a=Object(o.a)(e,2),r=a[0],l=a[1];return!m([r,l],n,t)&&(r<=1||r>=t-2)&&(l<=1||l>=n-2)}function O(e,t,n){var a=Object(o.a)(e,2),r=a[0],l=a[1];return!m([r,l],n,t)&&(0===r||r===t-1||0===l||l===n-1)}function g(e,t,n){var a=Object(o.a)(e,2),r=a[0],l=a[1];return!b([r,l],n,t)&&(1===r||r===t-2||1===l||l===n-2)}function j(e,t){for(var n=0;n<e.length;++n)for(var a=0;a<e[n].length;++a)t(e[n][a],a,n)}function M(e,t,n,r,o,l){for(var c=[];;){if(n+=o,(t+=r)<0||t>=e[0].length||n<0||n>=e.length)return[];if(e[n][t].marker===a.FREE)return[];if(e[n][t].marker===l)return c;c.push([t,n])}}function E(e,t){var n=new Map;return j(e,(function(r,o,l){var c=function(e,t,n,r){if(e[n][t].marker!==a.FREE)return[];for(var o=[],l=-1;l<=1;++l)for(var c=-1;c<=1;++c)o=o.concat(M(e,t,n,l,c,r));return o}(e,o,l,t);c.length>0&&n.set(p([o,l]),c)})),n}function y(e,t,n){var a=Object(r.a)(e);return n?(a[0]+=1+t,a[1]-=t):(a[0]-=t,a[1]+=1+t),a}function N(e,t,n,a){e[n[1]][n[0]].marker=t;var r,c=Object(l.a)(a);try{for(c.s();!(r=c.n()).done;){var u=Object(o.a)(r.value,2),i=u[0];e[u[1]][i].marker=t}}catch(s){c.e(s)}finally{c.f()}}function w(e){var t=E(e,a.BOT);if(0===t.size)return 0;var n,r="",c=e.length,u=e[0].length,i=new Map,s=new Map,d=new Map,v=new Map,p=new Map,j=Object(l.a)(t);try{for(j.s();!(n=j.n()).done;){var M=Object(o.a)(n.value,1)[0],y=[h(M),u,c],w=[M,t.get(M)||[]];m.apply(void 0,y)?i.set.apply(i,w):b.apply(void 0,y)?s.set.apply(s,w):O.apply(void 0,y)?d.set.apply(d,w):g.apply(void 0,y)?v.set.apply(v,w):p.set.apply(p,w)}}catch(z){j.e(z)}finally{j.f()}var B=h(r=i.size>0?f(i,(function(e,t,n,a){return a.length-t.length}))||r:d.size>0?f(d,(function(e,t,n,a){return a.length-t.length}))||r:p.size>0?f(p,(function(e,t,n,a){return t.length-a.length}))||r:v.size>0?f(v,(function(e,t,n,a){return t.length-a.length}))||r:f(s,(function(e,t,n,a){return t.length-a.length}))||r),k=Object(o.a)(B,2),F=k[0],H=k[1],T=t.get(r)||[];N(e,a.BOT,[F,H],T),e[H][F].justPlaced=!0;var A,U=Object(l.a)(T);try{for(U.s();!(A=U.n()).done;){var L=Object(o.a)(A.value,2),P=L[0];e[L[1]][P].justFlipped=!0}}catch(z){U.e(z)}finally{U.f()}return T.length}function B(e){var t=e.value,n=e.onClick,r=e.handleMouseEnter,o=e.handleMouseLeave,l="square";return t.isValidMove&&(l+=" valid-move"),t.wouldBeFlipped&&(l+=" would-be-flipped"),t.noLongerWouldBeFlipped&&(l+=" no-longer-would-be-flipped"),t.justPlaced&&(l+=" just-placed"),t.justFlipped&&(l+=" just-flipped"),u.a.createElement("td",{className:l,onClick:n,onMouseEnter:r,onMouseLeave:o},u.a.createElement("div",{className:"square-container"},u.a.createElement("div",{className:"square-front"},d(t.marker)),u.a.createElement("div",{className:"square-back"},d(v(t.marker!==a.HUMAN)))))}function k(e){var t=e.boardWidth,n=e.boardHeight,r=e.nextPlayer,i=e.isGameOver,s=e.gameIsOver,f=e.otherPlayersTurn,d=e.updateScore,v=Object(c.useState)(function(e,t,n){for(var r=[],l=0;l<t;++l){for(var c=[],u=0;u<e;++u)c.push({marker:a.FREE,isValidMove:!1,wouldBeFlipped:!1,noLongerWouldBeFlipped:!1,justPlaced:!1,justFlipped:!1});r.push(c)}var i=Math.floor(e/2),s=Math.floor(t/2);return r[s][i].marker=a.BOT,r[s][i-1].marker=a.HUMAN,r[s-1][i].marker=a.HUMAN,r[s-1][i-1].marker=a.BOT,E(r,n).forEach((function(e,t){var n=h(t),a=Object(o.a)(n,2),l=a[0],c=a[1];r[c][l].isValidMove=!0})),r}(t,n,a.HUMAN)),m=Object(o.a)(v,2),b=m[0],O=m[1],g=Object(c.useState)(E(b,a.HUMAN)),M=Object(o.a)(g,2),k=M[0],F=M[1];r!==a.BOT||i||setTimeout((function(){var e=b.slice(),t=new Map,n=!1,r=[0,0];do{var o=w(e);n=0===o,o>0&&(r=y(r,o,!1)),0===(t=E(e,a.HUMAN)).size&&n&&s()}while(0===t.size&&!n);j(e,(function(e,n,a){e.isValidMove=t.has(p([n,a])),e.wouldBeFlipped=!1})),f(),O(e),F(t),d(r)}),500);var H=function(e,t,n){var a=p([e,t]);if(k.has(a)){var r,c=b.slice(),u=n?function(e){e.wouldBeFlipped=!0,e.noLongerWouldBeFlipped=!1}:function(e){e.wouldBeFlipped=!1,e.noLongerWouldBeFlipped=!0},i=Object(l.a)(k.get(a)||[]);try{for(i.s();!(r=i.n()).done;){var s=Object(o.a)(r.value,2),f=s[0];u(c[s[1]][f])}}catch(d){i.e(d)}finally{i.f()}O(c)}};return u.a.createElement("div",null,u.a.createElement("table",null,u.a.createElement("tbody",null,b.map((function(e,t){return u.a.createElement("tr",{key:t,className:"board-row"},e.map((function(e,n){return u.a.createElement(B,{key:p([n,t]),value:e,onClick:function(){return function(e,t){var n;if(!i){var r=p([e,t]);if(k.has(r)){var o=b.slice();N(o,a.HUMAN,[e,t],k.get(r)||[]);var l=y([0,0],(null===(n=k.get(r))||void 0===n?void 0:n.length)||0,!0);j(o,(function(e){e.isValidMove=!1,e.wouldBeFlipped=!1,e.justPlaced=!1,e.justFlipped=!1,e.noLongerWouldBeFlipped=!1})),f(),O(o),F(new Map),d(l)}}}(n,t)},handleMouseEnter:function(){return H(n,t,!0)},handleMouseLeave:function(){return H(n,t,!1)}})})))})))))}function F(){var e=Object(c.useState)(!0),t=Object(o.a)(e,2),n=t[0],l=t[1],i=v(n),s=Object(c.useState)(!1),f=Object(o.a)(s,2),p=f[0],h=f[1],m=Object(c.useState)([2,2]),b=Object(o.a)(m,2),O=b[0],g=b[1];return u.a.createElement("div",{className:"game"},u.a.createElement("div",{className:"status"},p?"Game over.\n":"Next player: ".concat(d(i),"\n")),u.a.createElement("div",{className:"score"},"The score is ".concat(O[0]," for ").concat(d(a.HUMAN)," and ").concat(O[1]," for ").concat(d(a.BOT),".")),u.a.createElement("div",{className:"game-board"},u.a.createElement(k,{boardWidth:8,boardHeight:8,nextPlayer:i,isGameOver:p,gameIsOver:function(){return h(!0)},otherPlayersTurn:function(){return l(!n)},updateScore:function(e){var t=Object(r.a)(O);t[0]+=e[0],t[1]+=e[1],g(t)}})))}!function(e){e[e.HUMAN=0]="HUMAN",e[e.BOT=1]="BOT",e[e.FREE=2]="FREE"}(a||(a={})),s.a.render(u.a.createElement(F,null),document.getElementById("root"))}},[[8,1,2]]]);
//# sourceMappingURL=main.3a9816b9.chunk.js.map